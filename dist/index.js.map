{"version":3,"sources":["../src/legacy/turn.ts","../src/index.ts"],"names":["vendor","page","view","gradient","tan","beta","tr","a","data","j","$"],"mappings":"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","file":"index.js","sourcesContent":["// @ts-nocheck\nimport $ from 'jquery';\n\n/**\n * turn.js 3rd release\n * www.turnjs.com\n *\n * Copyright (C) 2012, Emmanuel Garcia.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * 1. Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *\n * 2. Any redistribution, use, or modification is done solely for personal \n * benefit and not for any commercial purpose or for monetary gain.\n * \n **/\nvar has3d,\n\n\tvendor ='',\n\n\tPI = Math.PI,\n\n\tA90 = PI/2,\n\n\tisTouch = 'ontouchstart' in window,\n\n\tevents = (isTouch) ? {start: 'touchstart', move: 'touchmove', end: 'touchend'}\n\t\t\t: {start: 'mousedown', move: 'mousemove', end: 'mouseup'},\n\n\t// Contansts used for each corner\n\t// tl * tr\n\t// *     *\n\t// bl * br\n\n\tcorners = {\n\t\tbackward: ['bl', 'tl'],\n\t\tforward: ['br', 'tr'],\n\t\tall: ['tl', 'bl', 'tr', 'br']\n\t},\n\n\tdisplays = ['single', 'double'],\n\n\t// Default options\n\n\tturnOptions = {\n\n\t\t// First page\n\n\t\tpage: 1,\n\t\t\n\t\t// Enables gradients\n\n\t\tgradients: true,\n\n\t\t// Duration of transition in milliseconds\n\n\t\tduration: 600,\n\n\t\t// Enables hardware acceleration\n\n\t\tacceleration: true,\n\n\t\t// Display\n\n\t\tdisplay: 'double',\n\n\t\t// Events\n\n\t\twhen: null\n\t},\n\n\tflipOptions = {\n\n\t\t// Back page\n\t\t\n\t\tfolding: null,\n\n\t\t// Corners\n\t\t// backward: Activates both tl and bl corners\n\t\t// forward: Activates both tr and br corners\n\t\t// all: Activates all the corners\n\n\t\tcorners: 'forward',\n\t\t\n\t\t// Size of the active zone of each corner\n\n\t\tcornerSize: 100,\n\n\t\t// Enables gradients\n\n\t\tgradients: true,\n\n\t\t// Duration of transition in milliseconds\n\n\t\tduration: 600,\n\n\t\t// Enables hardware acceleration\n\n\t\tacceleration: true\n\t},\n\n\t// Number of pages in the DOM, minimum value: 6\n\n\tpagesInDOM = 6,\n\t\n\tpagePosition = {0: {top: 0, left: 0, right: 'auto', bottom: 'auto'},\n\t\t\t\t\t1: {top: 0, right: 0, left: 'auto', bottom: 'auto'}},\n\n\t// Gets basic attributes for a layer\n\n\tdivAtt = function(top, left, zIndex, overf) {\n\t\treturn {'css': {\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: top,\n\t\t\t\t\tleft: left,\n\t\t\t\t\t'overflow': overf || 'hidden',\n\t\t\t\t\t'z-index': zIndex || 'auto'\n\t\t\t\t\t}\n\t\t\t};\n\t},\n\n\t// Gets a 2D point from a bezier curve of four points\n\n\tbezier = function(p1, p2, p3, p4, t) {\n\t\tvar mum1 = 1 - t,\n\t\t\tmum13 = mum1 * mum1 * mum1,\n\t\t\tmu3 = t * t * t;\n\n\t\treturn point2D(Math.round(mum13*p1.x + 3*t*mum1*mum1*p2.x + 3*t*t*mum1*p3.x + mu3*p4.x),\n\t\t\t\t\t\tMath.round(mum13*p1.y + 3*t*mum1*mum1*p2.y + 3*t*t*mum1*p3.y + mu3*p4.y));\n\t},\n\t\n\t// Converts an angle from degrees to radians\n\n\trad = function(degrees) {\n\t\treturn degrees/180*PI;\n\t},\n\n\t// Converts an angle from radians to degrees\n\n\tdeg = function(radians) {\n\t\treturn radians/PI*180;\n\t},\n\n\t// Gets a 2D point\n\n\tpoint2D = function(x, y) {\n\t\treturn {x: x, y: y};\n\t},\n\n\t// Returns the traslate value\n\n\ttranslate = function(x, y, use3d) {\n\t\treturn (has3d && use3d) ? ' translate3d(' + x + 'px,' + y + 'px, 0px) ' : ' translate(' + x + 'px, ' + y + 'px) ';\n\t},\n\n\t// Returns the rotation value\n\n\trotate = function(degrees) {\n\t\treturn ' rotate(' + degrees + 'deg) ';\n\t},\n\n\t// Checks if a property belongs to an object\n\n\thas = function(property, object) {\n\t\treturn Object.prototype.hasOwnProperty.call(object, property);\n\t},\n\n\t// Gets the CSS3 vendor prefix\n\n\tgetPrefix = function() {\n\t\tvar vendorPrefixes = ['Moz','Webkit','Khtml','O','ms'],\n\t\t\tlen = vendorPrefixes.length,\n\t\t\tvendor = '';\n\n\t\twhile (len--)\n\t\t\tif ((vendorPrefixes[len] + 'Transform') in document.body.style)\n\t\t\t\tvendor='-'+vendorPrefixes[len].toLowerCase()+'-';\n\n\t\treturn vendor;\n\t},\n\n\t// Adds gradients\n\n\tgradient = function(obj, p0, p1, colors, numColors) {\n\t\n\t\tvar j, cols = [];\n\n\t\tif (vendor=='-webkit-') {\n\t\t\n\t\t\tfor (j = 0; j<numColors; j++)\n\t\t\t\t\tcols.push('color-stop('+colors[j][0]+', '+colors[j][1]+')');\n\t\t\t\n\t\t\tobj.css({'background-image': '-webkit-gradient(linear, '+p0.x+'% '+p0.y+'%,  '+p1.x+'% '+p1.y+'%, '+ cols.join(',') +' )'});\n\n\t\t} else {\n\n\t\t\t// This procedure makes the gradients for non-webkit browsers\n\t\t\t// It will be reduced to one unique way for gradients in next versions\n\t\t\t\n\t\t\tp0 = {x:p0.x/100 * obj.width(), y:p0.y/100 * obj.height()};\n\t\t\tp1 = {x:p1.x/100 * obj.width(), y:p1.y/100 * obj.height()};\n\n\t\t\tvar dx = p1.x-p0.x,\n\t\t\t\tdy = p1.y-p0.y,\n\t\t\t\tangle = Math.atan2(dy, dx),\n\t\t\t\tangle2 = angle - Math.PI/2,\n\t\t\t\tdiagonal = Math.abs(obj.width()*Math.sin(angle2)) + Math.abs(obj.height()*Math.cos(angle2)),\n\t\t\t\tgradientDiagonal = Math.sqrt(dy*dy + dx*dx),\n\t\t\t\tcorner = point2D((p1.x<p0.x) ? obj.width() : 0, (p1.y<p0.y) ? obj.height() : 0),\n\t\t\t\tslope = Math.tan(angle),\n\t\t\t\tinverse = -1/slope,\n\t\t\t\tx = (inverse*corner.x - corner.y - slope*p0.x + p0.y) / (inverse-slope),\n\t\t\t\tc = {x: x, y: inverse*x - inverse*corner.x + corner.y},\n\t\t\t\tsegA = (Math.sqrt( Math.pow(c.x-p0.x,2) + Math.pow(c.y-p0.y,2)));\n\n\t\t\t\tfor (j = 0; j<numColors; j++)\n\t\t\t\t\tcols.push(' '+colors[j][1]+' '+(( segA + gradientDiagonal*colors[j][0] )*100/diagonal)+'%');\n\t\t\n\t\t\t\tobj.css({'background-image': vendor+'linear-gradient(' + (-angle) + 'rad,' + cols.join(',') + ')'});\n\t\t}\n\t},\n\nturnMethods = {\n\n\t// Singleton constructor\n\t// $('#selector').turn([options]);\n\n\tinit: function(opts) {\n\n\t\t// Define constants\n\t\tif (has3d===undefined) {\n\t\t\thas3d = 'WebKitCSSMatrix' in window || 'MozPerspective' in document.body.style;\n\t\t\tvendor = getPrefix();\n\t\t}\n\n\t\tvar i, data = this.data(), ch = this.children();\n\t\n\t\topts = $.extend({width: this.width(), height: this.height()}, turnOptions, opts);\n\t\tdata.opts = opts;\n\t\tdata.pageObjs = {};\n\t\tdata.pages = {};\n\t\tdata.pageWrap = {};\n\t\tdata.pagePlace = {};\n\t\tdata.pageMv = [];\n\t\tdata.totalPages = opts.pages || 0;\n\n\t\tif (opts.when)\n\t\t\tfor (i in opts.when)\n\t\t\t\tif (has(i, opts.when))\n\t\t\t\t\tthis.bind(i, opts.when[i]);\n\n\n\t\tthis.css({position: 'relative', width: opts.width, height: opts.height});\n\n\t\tthis.turn('display', opts.display);\n\n\t\tif (has3d && !isTouch && opts.acceleration)\n\t\t\tthis.transform(translate(0, 0, true));\n\t\n\t\tfor (i = 0; i<ch.length; i++)\n\t\t\tthis.turn('addPage', ch[i], i+1);\n\t\n\t\tthis.turn('page', opts.page);\n\n        // allow setting active corners as an option\n        corners = $.extend({}, corners, opts.corners);\n\n\t\t// Event listeners\n\n\t\t$(this).bind(events.start, function(e) {\n\t\t\tfor (var page in data.pages)\n\t\t\t\tif (has(page, data.pages) && flipMethods._eventStart.call(data.pages[page], e)===false)\n\t\t\t\t\treturn false;\n\t\t});\n\t\t\t\n\t\t$(document).bind(events.move, function(e) {\n\t\t\tfor (var page in data.pages)\n\t\t\t\tif (has(page, data.pages))\n\t\t\t\t\tflipMethods._eventMove.call(data.pages[page], e);\n\t\t}).\n\t\tbind(events.end, function(e) {\n\t\t\tfor (var page in data.pages)\n\t\t\t\tif (has(page, data.pages))\n\t\t\t\t\tflipMethods._eventEnd.call(data.pages[page], e);\n\n\t\t});\n\n\t\tdata.done = true;\n\n\t\treturn this;\n\t},\n\n\t// Adds a page from external data\n\n\taddPage: function(element, page) {\n\n\t\tvar incPages = false,\n\t\t\tdata = this.data(),\n\t\t\tlastPage = data.totalPages+1;\n\n\t\tif (page) {\n\t\t\tif (page==lastPage) {\n\t\t\t\tpage = lastPage;\n\t\t\t\tincPages = true;\n\t\t\t} else if (page>lastPage)\n\t\t\t\tthrow new Error ('It is impossible to add the page \"'+page+'\", the maximum value is: \"'+lastPage+'\"');\n\n\t\t} else {\n\t\t\tpage = lastPage;\n\t\t\tincPages = true;\n\t\t}\n\n\t\tif (page>=1 && page<=lastPage) {\n\n\t\t\t// Stop animations\n\t\t\tif (data.done) this.turn('stop');\n\n\t\t\t// Move pages if it's necessary\n\t\t\tif (page in data.pageObjs)\n\t\t\t\tturnMethods._movePages.call(this, page, 1);\n\n\t\t\t// Update number of pages\n\t\t\tif (incPages)\n\t\t\t\tdata.totalPages = lastPage;\n\n\t\t\t// Add element\n\t\t\tdata.pageObjs[page] = $(element).addClass('turn-page p' + page);\n\n\t\t\t// Add page\n\t\t\tturnMethods._addPage.call(this, page);\n\n\t\t\t// Update view\n\t\t\tif (data.done)\n\t\t\t\tthis.turn('update');\n\n\t\t\tturnMethods._removeFromDOM.call(this);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t// Adds a page from internal data\n\n\t_addPage: function(page) {\n\t\t\n\t\tvar data = this.data(),\n\t\t\telement = data.pageObjs[page];\n\n\t\tif (element)\n\t\t\tif (turnMethods._necessPage.call(this, page)) {\n\t\t\t\t\n\t\t\t\tif (!data.pageWrap[page]) {\n\n\t\t\t\t\tvar pageWidth = (data.display=='double') ? this.width()/2 : this.width(),\n\t\t\t\t\t\tpageHeight = this.height();\n\n\t\t\t\t\telement.css({width:pageWidth, height:pageHeight});\n\n\t\t\t\t\t// Place\n\t\t\t\t\tdata.pagePlace[page] = page;\n\n\t\t\t\t\t// Wrapper\n\t\t\t\t\tdata.pageWrap[page] = $('<div/>', {'class': 'turn-page-wrapper',\n\t\t\t\t\t\t\t\t\t\t\t\t\tpage: page,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcss: {position: 'absolute',\n\t\t\t\t\t\t\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: pageWidth,\n\t\t\t\t\t\t\t\t\t\t\t\t\theight: pageHeight}}).\n\t\t\t\t\t\t\t\t\t\t\t\t\tcss(pagePosition[(data.display=='double') ? page%2 : 0]);\n\n\t\t\t\t\t// Append to this\n\t\t\t\t\tthis.append(data.pageWrap[page]);\n\n\t\t\t\t\t// Move data.pageObjs[page] (element) to wrapper\n\t\t\t\t\tdata.pageWrap[page].prepend(data.pageObjs[page]);\n\t\t\t\t}\n\n\t\t\t\t// If the page is in the current view, create the flip effect\n\t\t\t\tif (!page || turnMethods._setPageLoc.call(this, page)==1)\n\t\t\t\t\tturnMethods._makeFlip.call(this, page);\n\t\t\t\t\n\t\t\t} else {\n\n\t\t\t\t// Place\n\t\t\t\tdata.pagePlace[page] = 0;\n\n\t\t\t\t// Remove element from the DOM\n\t\t\t\tif (data.pageObjs[page])\n\t\t\t\t\tdata.pageObjs[page].remove();\n\n\t\t\t}\n\n\t},\n\n\t// Checks if a page is in memory\n\t\n\thasPage: function(page) {\n\n\t\treturn page in this.data().pageObjs;\n\t\n\t},\n\n\t// Prepares the flip effect for a page\n\n\t_makeFlip: function(page) {\n\n\t\tvar data = this.data();\n\n\t\tif (!data.pages[page] && data.pagePlace[page]==page) {\n\n\t\t\tvar single = data.display=='single',\n\t\t\t\teven = page%2;\n\t\t\t\n\t\t\tdata.pages[page] = data.pageObjs[page].\n\t\t\t\t\t\t\t\tcss({width: (single) ? this.width() : this.width()/2, height: this.height()}).\n\t\t\t\t\t\t\t\tflip({page: page,\n\t\t\t\t\t\t\t\t\tnext: (single && page === data.totalPages) ? page -1 : ((even || single) ? page+1 : page-1),\n\t\t\t\t\t\t\t\t\tturn: this,\n\t\t\t\t\t\t\t\t\tduration: data.opts.duration,\n\t\t\t\t\t\t\t\t\tacceleration : data.opts.acceleration,\n\t\t\t\t\t\t\t\t\tcorners: (single) ? 'all' : ((even) ? 'forward' : 'backward'),\n\t\t\t\t\t\t\t\t\tbackGradient: data.opts.gradients,\n\t\t\t\t\t\t\t\t\tfrontGradient: data.opts.gradients\n\t\t\t\t\t\t\t\t\t}).\n\t\t\t\t\t\t\t\t\tflip('disable', data.disabled).\n\t\t\t\t\t\t\t\t\tbind('pressed', turnMethods._pressed).\n\t\t\t\t\t\t\t\t\tbind('released', turnMethods._released).\n\t\t\t\t\t\t\t\t\tbind('start', turnMethods._start).\n\t\t\t\t\t\t\t\t\tbind('end', turnMethods._end).\n\t\t\t\t\t\t\t\t\tbind('flip', turnMethods._flip);\n\t\t}\n\t\treturn data.pages[page];\n\t},\n\n\t// Makes pages within a range\n\n\t_makeRange: function() {\n\n\t\tvar page,\n\t\t\tdata = this.data(),\n\t\t\trange = this.turn('range');\n\n\t\t\tfor (page = range[0]; page<=range[1]; page++)\n\t\t\t\tturnMethods._addPage.call(this, page);\n\n\t},\n\n\t// Returns a range of `pagesInDOM` pages that should be in the DOM\n\t// Example:\n\t// - page of the current view, return true\n\t// * page is in the range, return true\n\t// 0 page is not in the range, return false\n\t//\n\t// 1 2-3 4-5 6-7 8-9 10-11 12-13\n\t//    **  **  --   **  **\n\n\trange: function(page) {\n\n\t\tvar remainingPages, left, right,\n\t\t\tdata = this.data();\n\t\t\tpage = page || data.tpage || data.page;\n\t\t\tvar view = turnMethods._view.call(this, page);\n\n\t\t\tif (page<1 || page>data.totalPages)\n\t\t\t\tthrow new Error ('\"'+page+'\" is not a page for range');\n\t\t\n\t\t\tview[1] = view[1] || view[0];\n\t\t\t\n\t\t\tif (view[0]>=1 && view[1]<=data.totalPages) {\n\n\t\t\t\tremainingPages = Math.floor((pagesInDOM-2)/2);\n\n\t\t\t\tif (data.totalPages-view[1] > view[0]) {\n\t\t\t\t\tleft = Math.min(view[0]-1, remainingPages);\n\t\t\t\t\tright = 2*remainingPages-left;\n\t\t\t\t} else {\n\t\t\t\t\tright = Math.min(data.totalPages-view[1], remainingPages);\n\t\t\t\t\tleft = 2*remainingPages-right;\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tleft = pagesInDOM-1;\n\t\t\t\tright = pagesInDOM-1;\n\t\t\t}\n\n\t\t\treturn [Math.max(1, view[0]-left), Math.min(data.totalPages, view[1]+right)];\n\n\t},\n\n\t// Detects if a page is within the range of `pagesInDOM` from the current view\n\n\t_necessPage: function(page) {\n\t\t\n\t\tif (page===0)\n\t\t\treturn true;\n\n\t\tvar range = this.turn('range');\n\n\t\treturn page>=range[0] && page<=range[1];\n\t\t\n\t},\n\n\t// Releases memory by removing pages from the DOM\n\n\t_removeFromDOM: function() {\n\n\t\tvar page, data = this.data();\n\n\t\tfor (page in data.pageWrap)\n\t\t\tif (has(page, data.pageWrap) && !turnMethods._necessPage.call(this, page))\n\t\t\t\tturnMethods._removePageFromDOM.call(this, page);\n\t\t\n\n\t},\n\n\t// Removes a page from DOM and its internal references\n\n\t_removePageFromDOM: function(page) {\n\n\t\tvar data = this.data();\n\n\t\tif (data.pages[page]) {\n\t\t\tvar dd = data.pages[page].data();\n\t\t\tif (dd.f && dd.f.fwrapper)\n\t\t\t\tdd.f.fwrapper.remove();\n\t\t\tdata.pages[page].remove();\n\t\t\tdelete data.pages[page];\n\t\t}\n\n\t\tif (data.pageObjs[page])\n\t\t\tdata.pageObjs[page].remove();\n\n\t\tif (data.pageWrap[page]) {\n\t\t\tdata.pageWrap[page].remove();\n\t\t\tdelete data.pageWrap[page];\n\t\t}\n\n\t\tdelete data.pagePlace[page];\n\n\t},\n\n\t// Removes a page\n\n\tremovePage: function(page) {\n\n\t\tvar data = this.data();\n\n\t\tif (data.pageObjs[page]) {\n\t\t\t// Stop animations\n\t\t\tthis.turn('stop');\n\n\t\t\t// Remove `page`\n\t\t\tturnMethods._removePageFromDOM.call(this, page);\n\t\t\tdelete data.pageObjs[page];\n\n\t\t\t// Move the pages behind `page`\n\t\t\tturnMethods._movePages.call(this, page, -1);\n\n\t\t\t// Resize the size of this magazine\n\t\t\tdata.totalPages = data.totalPages-1;\n\t\t\tturnMethods._makeRange.call(this);\n\n\t\t\t// Check the current view\n\t\t\tif (data.page>data.totalPages)\n\t\t\t\tthis.turn('page', data.totalPages);\n\t\t}\n\n\t\treturn this;\n\t\n\t},\n\n\t// Moves pages\n\n\t_movePages: function(from, change) {\n\n\t\tvar page,\n\t\t\tdata = this.data(),\n\t\t\tsingle = data.display=='single',\n\t\t\tmove = function(page) {\n\n\t\t\t\tvar next = page + change,\n\t\t\t\t\todd = next%2;\n\n\t\t\t\tif (data.pageObjs[page])\n\t\t\t\t\tdata.pageObjs[next] = data.pageObjs[page].removeClass('page' + page).addClass('page' + next);\n\n\t\t\t\tif (data.pagePlace[page] && data.pageWrap[page]) {\n\t\t\t\t\tdata.pagePlace[next] = next;\n\t\t\t\t\tdata.pageWrap[next] = data.pageWrap[page].css(pagePosition[(single) ? 0 : odd]).attr('page', next);\n\t\t\t\t\t\n\t\t\t\t\tif (data.pages[page])\n\t\t\t\t\t\tdata.pages[next] = data.pages[page].flip('options', {\n\t\t\t\t\t\t\tpage: next,\n\t\t\t\t\t\t\tnext: (single || odd) ? next+1 : next-1,\n\t\t\t\t\t\t\tcorners: (single) ? 'all' : ((odd) ? 'forward' : 'backward')\n\t\t\t\t\t\t});\n\n\t\t\t\t\tif (change) {\n\t\t\t\t\t\tdelete data.pages[page];\n\t\t\t\t\t\tdelete data.pagePlace[page];\n\t\t\t\t\t\tdelete data.pageObjs[page];\n\t\t\t\t\t\tdelete data.pageWrap[page];\n\t\t\t\t\t\tdelete data.pageObjs[page];\n\t\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif (change>0)\n\t\t\tfor (page=data.totalPages; page>=from; page--) move(page);\n\t\telse\n\t\t\tfor (page=from; page<=data.totalPages; page++) move(page);\n\n\t},\n\n\t// Sets or Gets the display mode\n\n\tdisplay: function(display) {\n\n\t\tvar data = this.data(),\n\t\t\tcurrentDisplay = data.display;\n\n\t\tif (display) {\n\n\t\t\tif ($.inArray(display, displays)==-1)\n\t\t\t\tthrow new Error ('\"'+display + '\" is not a value for display');\n\t\t\t\n\t\t\tif (display=='single') {\n\t\t\t\tif (!data.pageObjs[0]) {\n\t\t\t\t\tthis.turn('stop').\n\t\t\t\t\t\tcss({'overflow': 'hidden'});\n\t\t\t\t\tdata.pageObjs[0] = $('<div />', {'class': 'turn-page p-temporal'}).\n\t\t\t\t\t\t\t\t\tcss({width: this.width(), height: this.height()}).\n\t\t\t\t\t\t\t\t\t\tappendTo(this);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (data.pageObjs[0]) {\n\t\t\t\t\tthis.turn('stop').\n\t\t\t\t\t\tcss({'overflow': ''});\n\t\t\t\t\tdata.pageObjs[0].remove();\n\t\t\t\t\tdelete data.pageObjs[0];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdata.display = display;\n\n\t\t\tif (currentDisplay) {\n\t\t\t\tvar size = this.turn('size');\n\t\t\t\tturnMethods._movePages.call(this, 1, 0);\n\t\t\t\tthis.turn('size', size.width, size.height).\n\t\t\t\t\t\tturn('update');\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t} else\n\t\t\treturn currentDisplay;\n\t\n\t},\n\n\t// Detects if the pages are being animated\n\n\tanimating: function() {\n\n\t\treturn this.data().pageMv.length>0;\n\n\t},\n\n\t// Disables and enables the effect\n\n\tdisable: function(bool) {\n\n\t\tvar page,\n\t\t\tdata = this.data(),\n\t\t\tview = this.turn('view');\n\n\t\t\tdata.disabled = bool===undefined || bool===true;\n\n\t\tfor (page in data.pages)\n\t\t\tif (has(page, data.pages))\n\t\t\t\tdata.pages[page].flip('disable', bool ? $.inArray(page, view) : false );\n\n\t\treturn this;\n\n\t},\n\n\t// Gets and sets the size\n\n\tsize: function(width, height) {\n\n\t\tif (width && height) {\n\n\t\t\tvar data = this.data(), pageWidth = (data.display=='double') ? width/2 : width, page;\n\n\t\t\tthis.css({width: width, height: height});\n\n\t\t\tif (data.pageObjs[0])\n\t\t\t\tdata.pageObjs[0].css({width: pageWidth, height: height});\n\t\t\t\n\t\t\tfor (page in data.pageWrap) {\n\t\t\t\tif (!has(page, data.pageWrap)) continue;\n\t\t\t\tdata.pageObjs[page].css({width: pageWidth, height: height});\n\t\t\t\tdata.pageWrap[page].css({width: pageWidth, height: height});\n\t\t\t\tif (data.pages[page])\n\t\t\t\t\tdata.pages[page].css({width: pageWidth, height: height});\n\t\t\t}\n\n\t\t\tthis.turn('resize');\n\n\t\t\treturn this;\n\n\t\t} else {\n\t\t\t\n\t\t\treturn {width: this.width(), height: this.height()};\n\n\t\t}\n\t},\n\n\t// Resizes each page\n\n\tresize: function() {\n\n\t\tvar page, data = this.data();\n\n\t\tif (data.pages[0]) {\n\t\t\tdata.pageWrap[0].css({left: -this.width()});\n\t\t\tdata.pages[0].flip('resize', true);\n\t\t}\n\n\t\tfor (page = 1; page <= data.totalPages; page++)\n\t\t\tif (data.pages[page])\n\t\t\t\tdata.pages[page].flip('resize', true);\n\n\n\t},\n\n\t// Removes an animation from the cache\n\n\t_removeMv: function(page) {\n\n\t\tvar i, data = this.data();\n\t\t\t\n\t\tfor (i=0; i<data.pageMv.length; i++)\n\t\t\tif (data.pageMv[i]==page) {\n\t\t\t\tdata.pageMv.splice(i, 1);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\treturn false;\n\n\t},\n\n\t// Adds an animation to the cache\n\t\n\t_addMv: function(page) {\n\n\t\tvar data = this.data();\n\n\t\tturnMethods._removeMv.call(this, page);\n\t\tdata.pageMv.push(page);\n\n\t},\n\n\t// Gets indexes for a view\n\n\t_view: function(page) {\n\t\n\t\tvar data = this.data();\n\t\tpage = page || data.page;\n\n\t\tif (data.display=='double')\n\t\t\treturn (page%2) ? [page-1, page] : [page, page+1];\n\t\telse\n\t\t\treturn [page];\n\n\t},\n\n\t// Gets a view\n\n\tview: function(page) {\n\n\t\tvar data = this.data(), view = turnMethods._view.call(this, page);\n\n\t\treturn (data.display=='double') ? [(view[0]>0) ? view[0] : 0, (view[1]<=data.totalPages) ? view[1] : 0]\n\t\t\t\t: [(view[0]>0 && view[0]<=data.totalPages) ? view[0] : 0];\n\n\t},\n\n\t// Stops animations\n\n\tstop: function(ok) {\n\n\t\tvar i, opts, data = this.data(), pages = data.pageMv;\n\n\t\tdata.pageMv = [];\n\n\t\tif (data.tpage) {\n\t\t\tdata.page = data.tpage;\n\t\t\tdelete data['tpage'];\n\t\t}\n\n\t\tfor (i in pages) {\n\t\t\tif (!has(i, pages)) continue;\n\t\t\topts = data.pages[pages[i]].data().f.opts;\n\t\t\tflipMethods._moveFoldingPage.call(data.pages[pages[i]], null);\n\t\t\tdata.pages[pages[i]].flip('hideFoldedPage');\n\t\t\tdata.pagePlace[opts.next] = opts.next;\n\t\t\t\n\t\t\tif (opts.force) {\n\t\t\t\topts.next = (opts.page%2===0) ? opts.page-1 : opts.page+1;\n\t\t\t\tdelete opts['force'];\n\t\t\t}\n\n\t\t}\n\n\t\tthis.turn('update');\n\n\t\treturn this;\n\t},\n\n\t// Gets and sets the number of pages\n\n\tpages: function(pages) {\n\n\t\tvar data = this.data();\n\n\t\tif (pages) {\n\t\t\tif (pages<data.totalPages) {\n\n\t\t\t\tfor (var page = pages+1; page<=data.totalPages; page++)\n\t\t\t\t\tthis.turn('removePage', page);\n\n\t\t\t\tif (this.turn('page')>pages)\n\t\t\t\t\tthis.turn('page', pages);\n\t\t\t}\n\n\t\t\tdata.totalPages = pages;\n\n\t\t\treturn this;\n\t\t} else\n\t\t\treturn data.totalPages;\n\n\t},\n\n\t// Sets a page without effect\n\n\t_fitPage: function(page, ok) {\n\t\t\n\t\tvar data = this.data(), newView = this.turn('view', page);\n\t\t\n\t\tif (data.page!=page) {\n\t\t\tthis.trigger('turning', [page, newView]);\n\t\t\tif ($.inArray(1, newView)!=-1) this.trigger('first');\n\t\t\tif ($.inArray(data.totalPages, newView)!=-1) this.trigger('last');\n\t\t}\n\n\t\tif (!data.pageObjs[page])\n\t\t\treturn;\n\n\t\tdata.tpage = page;\n\n\t\tthis.turn('stop', ok);\n\t\tturnMethods._removeFromDOM.call(this);\n\t\tturnMethods._makeRange.call(this);\n\t\tthis.trigger('turned', [page, newView]);\n\n\t},\n\t\n\t// Turns to a page\n\n\t_turnPage: function(page) {\n\n\t\tvar current, next,\n\t\t\tdata = this.data(),\n\t\t\tview = this.turn('view'),\n\t\t\tnewView = this.turn('view', page);\n\t\n\t\tif (data.page!=page) {\n\t\t\tthis.trigger('turning', [page, newView]);\n\t\t\tif ($.inArray(1, newView)!=-1) this.trigger('first');\n\t\t\tif ($.inArray(data.totalPages, newView)!=-1) this.trigger('last');\n\t\t}\n\n\t\tif (!data.pageObjs[page])\n\t\t\treturn;\n\n\t\tdata.tpage = page;\n\n\t\tthis.turn('stop');\n\n\t\tturnMethods._makeRange.call(this);\n\n\t\tif (data.display=='single') {\n\t\t\tcurrent = view[0];\n\t\t\tnext = newView[0];\n\t\t} else if (view[1] && page>view[1]) {\n\t\t\tcurrent = view[1];\n\t\t\tnext = newView[0];\n\t\t} else if (view[0] && page<view[0]) {\n\t\t\tcurrent = view[0];\n\t\t\tnext = newView[1];\n\t\t}\n\n\t\tif (data.pages[current]) {\n\n\t\t\tvar opts = data.pages[current].data().f.opts;\n\t\t\tdata.tpage = next;\n\t\t\t\n\t\t\tif (opts.next!=next) {\n\t\t\t\topts.next = next;\n\t\t\t\tdata.pagePlace[next] = opts.page;\n\t\t\t\topts.force = true;\n\t\t\t}\n\n\t\t\tif (data.display=='single')\n\t\t\t\tdata.pages[current].flip('turnPage', (newView[0] > view[0]) ? 'br' : 'bl');\n\t\t\telse\n\t\t\t\tdata.pages[current].flip('turnPage');\n\t\t}\n\n\t},\n\n\t// Gets and sets a page\n\n\tpage: function(page) {\n\n\t\tpage = parseInt(page, 10);\n\n\t\tvar data = this.data();\n\n\t\tif (page>0 && page<=data.totalPages) {\n\t\t\tif (!data.done || $.inArray(page, this.turn('view'))!=-1)\n\t\t\t\tturnMethods._fitPage.call(this, page);\n\t\t\telse\n\t\t\t\tturnMethods._turnPage.call(this, page);\n\t\t\n\t\t\treturn this;\n\n\t\t} else\n\t\t\treturn data.page;\n\t\n\t},\n\n\t// Turns to the next view\n\n\tnext: function() {\n\n\t\tvar data = this.data();\n\t\treturn this.turn('page', turnMethods._view.call(this, data.page).pop() + 1);\n\t\n\t},\n\n\t// Turns to the previous view\n\n\tprevious: function() {\n\t\t\n\t\tvar data = this.data();\n\t\treturn this.turn('page', turnMethods._view.call(this, data.page).shift() - 1);\n\n\t},\n\n\t// Adds a motion to the internal list\n\n\t_addMotionPage: function() {\n\n\t\tvar opts = $(this).data().f.opts,\n\t\t\tturn = opts.turn,\n\t\t\tdd = turn.data();\n\n\t\topts.pageMv = opts.page;\n\t\tturnMethods._addMv.call(turn, opts.pageMv);\n\t\tdd.pagePlace[opts.next] = opts.page;\n\t\tturn.turn('update');\n\n\t},\n\n\t// This event is called in context of flip\n\n\t_start: function(e, opts, corner) {\n\n\t\t\tvar data = opts.turn.data(),\n\t\t\t\tevent = $.Event('start');\n\n\t\t\te.stopPropagation();\n\n\t\t\topts.turn.trigger(event, [opts, corner]);\n\n\t\t\tif (event.isDefaultPrevented()) {\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\n\t\tif (data.display=='single') {\n\n\t\t\tvar left = corner.charAt(1)=='l';\n\t\t\tif ((opts.page==1 && left) || (opts.page==data.totalPages && !left))\n\t\t\t\te.preventDefault();\n\t\t\telse {\n\t\t\t\tif (left) {\n\t\t\t\t\topts.next = (opts.next<opts.page) ? opts.next : opts.page-1;\n\t\t\t\t\topts.force = true;\n\t\t\t\t} else\n\t\t\t\t\topts.next = (opts.next>opts.page) ? opts.next : opts.page+1;\n\t\t\t}\n\n\t\t}\n\n\t\tturnMethods._addMotionPage.call(this);\n\t},\n\n\t// This event is called in context of flip\n\n\t_end: function(e, turned) {\n\t\t\n\t\tvar that = $(this),\n\t\t\tdata = that.data().f,\n\t\t\topts = data.opts,\n\t\t\tturn = opts.turn,\n\t\t\tdd = turn.data();\n\n\t\te.stopPropagation();\n\n\t\tif (turned || dd.tpage) {\n\n\t\t\tif (dd.tpage==opts.next || dd.tpage==opts.page) {\n\t\t\t\tdelete dd['tpage'];\n\t\t\t\tturnMethods._fitPage.call(turn, dd.tpage || opts.next, true);\n\t\t\t}\n\n\t\t} else {\n\t\t\tturnMethods._removeMv.call(turn, opts.pageMv);\n\t\t\tturn.turn('update');\n\t\t}\n\t\t\n\t},\n\t\n\t// This event is called in context of flip\n\n\t_pressed: function() {\n\n\t\tvar page,\n\t\t\tthat = $(this),\n\t\t\tdata = that.data().f,\n\t\t\tturn = data.opts.turn,\n\t\t\tpages = turn.data().pages;\n\t\n\t\tfor (page in pages)\n\t\t\tif (page!=data.opts.page)\n\t\t\t\tpages[page].flip('disable', true);\n\n\t\treturn data.time = new Date().getTime();\n\n\t},\n\n\t// This event is called in context of flip\n\n\t_released: function(e, point) {\n\t\t\n\t\tvar that = $(this),\n\t\t\tdata = that.data().f;\n\n\t\t\te.stopPropagation();\n\n\t\tif ((new Date().getTime())-data.time<200 || point.x<0 || point.x>$(this).width()) {\n\t\t\te.preventDefault();\n\t\t\tdata.opts.turn.data().tpage = data.opts.next;\n\t\t\tdata.opts.turn.turn('update');\n\t\t\t$(that).flip('turnPage');\n\t\t}\n\n\t},\n\n\t// This event is called in context of flip\n\t\n\t_flip: function() {\n\n\t\tvar opts = $(this).data().f.opts;\n\n\t\topts.turn.trigger('turn', [opts.next]);\n\n\t},\n\n\t// Calculate the z-index value for pages during the animation\n\n\tcalculateZ: function(mv) {\n\n\t\tvar i, page, nextPage, placePage, dpage,\n\t\t\tthat = this,\n\t\t\tdata = this.data(),\n\t\t\tview = this.turn('view'),\n\t\t\tcurrentPage = view[0] || view[1],\n\t\t\tr = {pageZ: {}, partZ: {}, pageV: {}},\n\n\t\t\taddView = function(page) {\n\t\t\t\tvar view = that.turn('view', page);\n\t\t\t\tif (view[0]) r.pageV[view[0]] = true;\n\t\t\t\tif (view[1]) r.pageV[view[1]] = true;\n\t\t\t};\n\t\t\n\t\t\tfor (i = 0; i<mv.length; i++) {\n\t\t\t\tpage = mv[i];\n\t\t\t\tnextPage = data.pages[page].data().f.opts.next;\n\t\t\t\tplacePage = data.pagePlace[page];\n\t\t\t\taddView(page);\n\t\t\t\taddView(nextPage);\n\t\t\t\tdpage = (data.pagePlace[nextPage]==nextPage) ? nextPage : page;\n\t\t\t\tr.pageZ[dpage] = data.totalPages - Math.abs(currentPage-dpage);\n\t\t\t\tr.partZ[placePage] = data.totalPages*2 + Math.abs(currentPage-dpage);\n\t\t\t}\n\n\t\treturn r;\n\t},\n\n\t// Updates the z-index and display property of every page\n\n\tupdate: function() {\n\n\t\tvar page,\n\t\t\tdata = this.data();\n\n\t\tif (data.pageMv.length && data.pageMv[0]!==0) {\n\n\t\t\t// Update motion\n\n\t\t\tvar apage,\n\t\t\t\tpos = this.turn('calculateZ', data.pageMv),\n\t\t\t\tview = this.turn('view', data.tpage);\n\t\t\n\t\t\tif (data.pagePlace[view[0]]==view[0]) apage = view[0];\n\t\t\telse if (data.pagePlace[view[1]]==view[1]) apage = view[1];\n\t\t\n\t\t\tfor (page in data.pageWrap) {\n\n\t\t\t\tif (!has(page, data.pageWrap)) continue;\n\n\t\t\t\tdata.pageWrap[page].css({display: (pos.pageV[page]) ? '' : 'none', 'z-index': pos.pageZ[page] || 0});\n\n\t\t\t\tif (data.pages[page]) {\n\t\t\t\t\tdata.pages[page].flip('z', pos.partZ[page] || null);\n\n\t\t\t\t\tif (pos.pageV[page])\n\t\t\t\t\t\tdata.pages[page].flip('resize');\n\n\t\t\t\t\tif (data.tpage)\n\t\t\t\t\t\tdata.pages[page].flip('disable', true); // data.disabled || page!=apage\n\t\t\t\t}\n\t\t\t}\n\t\t\t\t\n\t\t} else {\n\n\t\t\t// Update static pages\n\n\t\t\tfor (page in data.pageWrap) {\n\t\t\t\tif (!has(page, data.pageWrap)) continue;\n\t\t\t\t\tvar pageLocation = turnMethods._setPageLoc.call(this, page);\n\t\t\t\t\tif (data.pages[page])\n\t\t\t\t\t\tdata.pages[page].flip('disable', data.disabled || pageLocation!=1).flip('z', null);\n\t\t\t}\n\t\t}\n\t},\n\n\t// Sets the z-index and display property of a page\n\t// It depends on the current view\n\n\t_setPageLoc: function(page) {\n\n\t\tvar data = this.data(),\n\t\t\tview = this.turn('view');\n\n\t\tif (page==view[0] || page==view[1]) {\n\t\t\tdata.pageWrap[page].css({'z-index': data.totalPages, display: ''});\n\t\t\treturn 1;\n\t\t} else if ((data.display=='single' && page==view[0]+1) || (data.display=='double' && page==view[0]-2 || page==view[1]+2)) {\n\t\t\tdata.pageWrap[page].css({'z-index': data.totalPages-1, display: ''});\n\t\t\treturn 2;\n\t\t} else {\n\t\t\tdata.pageWrap[page].css({'z-index': 0, display: 'none'});\n\t\t\treturn 0;\n\t\t}\n\t}\n},\n\n// Methods and properties for the flip page effect\n\nflipMethods = {\n\n\t// Constructor\n\n\tinit: function(opts) {\n\n\t\tif (opts.gradients) {\n\t\t\topts.frontGradient = true;\n\t\t\topts.backGradient = true;\n\t\t}\n\n\t\tthis.data({f: {}});\n\t\tthis.flip('options', opts);\n\n\t\tflipMethods._addPageWrapper.call(this);\n\n\t\treturn this;\n\t},\n\n\tsetData: function(d) {\n\t\t\n\t\tvar data = this.data();\n\n\t\tdata.f = $.extend(data.f, d);\n\n\t\treturn this;\n\t},\n\n\toptions: function(opts) {\n\t\t\n\t\tvar data = this.data().f;\n\n\t\tif (opts) {\n\t\t\tflipMethods.setData.call(this, {opts: $.extend({}, data.opts || flipOptions, opts) });\n\t\t\treturn this;\n\t\t} else\n\t\t\treturn data.opts;\n\n\t},\n\n\tz: function(z) {\n\n\t\tvar data = this.data().f;\n\t\tdata.opts['z-index'] = z;\n\t\tdata.fwrapper.css({'z-index': z || parseInt(data.parent.css('z-index'), 10) || 0});\n\n\t\treturn this;\n\t},\n\n\t_cAllowed: function() {\n\n\t\treturn corners[this.data().f.opts.corners] || this.data().f.opts.corners;\n\n\t},\n\n\t_cornerActivated: function(e) {\n\t\tif (e.originalEvent === undefined) {\n\t\t\treturn false;\n\t\t}\t\t\n\n\t\te = (isTouch) ? e.originalEvent.touches : [e];\n\n\t\tvar data = this.data().f,\n\t\t\tpos = data.parent.offset(),\n\t\t\twidth = this.width(),\n\t\t\theight = this.height(),\n\t\t\tc = {x: Math.max(0, e[0].pageX-pos.left), y: Math.max(0, e[0].pageY-pos.top)},\n\t\t\tcsz = data.opts.cornerSize,\n\t\t\tallowedCorners = flipMethods._cAllowed.call(this);\n\n\t\t\tif (c.x<=0 || c.y<=0 || c.x>=width || c.y>=height) return false;\n\n\t\t\tif (c.y<csz) c.corner = 't';\n\t\t\telse if (c.y>=height-csz) c.corner = 'b';\n\t\t\telse return false;\n\t\t\t\n\t\t\tif (c.x<=csz) c.corner+= 'l';\n\t\t\telse if (c.x>=width-csz) c.corner+= 'r';\n\t\t\telse return false;\n\n\t\treturn ($.inArray(c.corner, allowedCorners)==-1) ? false : c;\n\n\t},\n\n\t_c: function(corner, opts) {\n\n\t\topts = opts || 0;\n\t\treturn ({tl: point2D(opts, opts),\n\t\t\t\ttr: point2D(this.width()-opts, opts),\n\t\t\t\tbl: point2D(opts, this.height()-opts),\n\t\t\t\tbr: point2D(this.width()-opts, this.height()-opts)})[corner];\n\n\t},\n\n\t_c2: function(corner) {\n\n\t\treturn {tl: point2D(this.width()*2, 0),\n\t\t\t\ttr: point2D(-this.width(), 0),\n\t\t\t\tbl: point2D(this.width()*2, this.height()),\n\t\t\t\tbr: point2D(-this.width(), this.height())}[corner];\n\n\t},\n\n\t_foldingPage: function(corner) {\n\n\t\tvar opts = this.data().f.opts;\n\t\t\n\t\tif (opts.folding) return opts.folding;\n\t\telse if(opts.turn) {\n\t\t\tvar data = opts.turn.data();\n\t\t\tif (data.display == 'single')\n\t\t\t\treturn (data.pageObjs[opts.next]) ? data.pageObjs[0] : null;\n\t\t\telse\n\t\t\t\treturn data.pageObjs[opts.next];\n\t\t}\n\n\t},\n\n\t_backGradient: function() {\n\n\t\tvar data =\tthis.data().f,\n\t\t\tturn = data.opts.turn,\n\t\t\tgradient = data.opts.backGradient &&\n\t\t\t\t\t\t(!turn || turn.data().display=='single' || (data.opts.page!=2 && data.opts.page!=turn.data().totalPages-1) );\n\n\n\t\tif (gradient && !data.bshadow)\n\t\t\tdata.bshadow = $('<div/>', divAtt(0, 0, 1)).\n\t\t\t\tcss({'position': '', width: this.width(), height: this.height()}).\n\t\t\t\t\tappendTo(data.parent);\n\n\t\treturn gradient;\n\n\t},\n\n\tresize: function(full) {\n\t\t\n\t\tvar data = this.data().f,\n\t\t\twidth = this.width(),\n\t\t\theight = this.height(),\n\t\t\tsize = Math.round(Math.sqrt(Math.pow(width, 2)+Math.pow(height, 2)));\n\n\t\tif (full) {\n\t\t\tdata.wrapper.css({width: size, height: size});\n\t\t\tdata.fwrapper.css({width: size, height: size}).\n\t\t\t\tchildren(':first-child').\n\t\t\t\t\tcss({width: width, height: height});\n\n\t\t\tdata.fpage.css({width: height, height: width});\n\n\t\t\tif (data.opts.frontGradient)\n\t\t\t\tdata.ashadow.css({width: height, height: width});\n\n\t\t\tif (flipMethods._backGradient.call(this))\n\t\t\t\tdata.bshadow.css({width: width, height: height});\n\t\t}\n\n\t\tif (data.parent.is(':visible')) {\n\t\t\tdata.fwrapper.css({top: data.parent.offset().top,\n\t\t\t\tleft: data.parent.offset().left});\n\n\t\t\tif (data.opts.turn)\n\t\t\t\tdata.fparent.css({top: -data.opts.turn.offset().top, left: -data.opts.turn.offset().left});\n\t\t}\n\n\t\tthis.flip('z', data.opts['z-index']);\n\n\t},\n\n\t// Prepares the page by adding a general wrapper and another objects\n\n\t_addPageWrapper: function() {\n\n\t\tvar att,\n\t\t\tdata = this.data().f,\n\t\t\tparent = this.parent();\n\n\t\tif (!data.wrapper) {\n\n\t\t\tvar left = this.css('left'),\n\t\t\t\ttop = this.css('top'),\n\t\t\t\twidth = this.width(),\n\t\t\t\theight = this.height(),\n\t\t\t\tsize = Math.round(Math.sqrt(Math.pow(width, 2)+Math.pow(height, 2)));\n\t\t\t\n\t\t\tdata.parent = parent;\n\t\t\tdata.fparent = (data.opts.turn) ? data.opts.turn.data().fparent : $('#turn-fwrappers');\n\n\t\t\tif (!data.fparent) {\n\t\t\t\tvar fparent = $('<div/>', {css: {'pointer-events': 'none'}}).hide();\n\t\t\t\t\tfparent.data().flips = 0;\n\n\t\t\t\tif (data.opts.turn) {\n\t\t\t\t\tfparent.css(divAtt(-data.opts.turn.offset().top, -data.opts.turn.offset().left, 'auto', 'visible').css).\n\t\t\t\t\t\t\tappendTo(data.opts.turn);\n\t\t\t\t\t\n\t\t\t\t\tdata.opts.turn.data().fparent = fparent;\n\t\t\t\t} else {\n\t\t\t\t\tfparent.css(divAtt(0, 0, 'auto', 'visible').css).\n\t\t\t\t\t\tattr('id', 'turn-fwrappers').\n\t\t\t\t\t\t\tappendTo($('body'));\n\t\t\t\t}\n\n\t\t\t\tdata.fparent = fparent;\n\t\t\t}\n\n\t\t\tthis.css({position: 'absolute', top: 0, left: 0, bottom: 'auto', right: 'auto'});\n\n\t\t\tdata.wrapper = $('<div/>', divAtt(0, 0, this.css('z-index'))).\n\t\t\t\t\t\t\t\tappendTo(parent).\n\t\t\t\t\t\t\t\t\tprepend(this);\n\n\t\t\tdata.fwrapper = $('<div/>', divAtt(parent.offset().top, parent.offset().left)).\n\t\t\t\t\t\t\t\thide().\n\t\t\t\t\t\t\t\t\tappendTo(data.fparent);\n\n\t\t\tdata.fpage = $('<div/>', {css: {cursor: 'default'}}).\n\t\t\t\t\tappendTo($('<div/>', divAtt(0, 0, 0, 'visible')).\n\t\t\t\t\t\t\t\tappendTo(data.fwrapper));\n\n\t\t\tif (data.opts.frontGradient)\n\t\t\t\tdata.ashadow = $('<div/>', divAtt(0, 0,  1)).\n\t\t\t\t\tappendTo(data.fpage);\n\n\t\t\t// Save data\n\n\t\t\tflipMethods.setData.call(this, data);\n\n\t\t\t// Set size\n\t\t\tflipMethods.resize.call(this, true);\n\t\t}\n\n\t},\n\n\t// Takes a 2P point from the screen and applies the transformation\n\n\t_fold: function(point) {\n\n\t\tvar that = this,\n\t\t\ta = 0,\n\t\t\talpha = 0,\n\t\t\tbeta,\n\t\t\tpx,\n\t\t\tgradientEndPointA,\n\t\t\tgradientEndPointB,\n\t\t\tgradientStartV,\n\t\t\tgradientSize,\n\t\t\tgradientOpacity,\n\t\t\tmv = point2D(0, 0),\n\t\t\tdf = point2D(0, 0),\n\t\t\ttr = point2D(0, 0),\n\t\t\twidth = this.width(),\n\t\t\theight = this.height(),\n\t\t\tfolding = flipMethods._foldingPage.call(this),\n\t\t\ttan = Math.tan(alpha),\n\t\t\tdata = this.data().f,\n\t\t\tac = data.opts.acceleration,\n\t\t\th = data.wrapper.height(),\n\t\t\to = flipMethods._c.call(this, point.corner),\n\t\t\ttop = point.corner.substr(0, 1) == 't',\n\t\t\tleft = point.corner.substr(1, 1) == 'l',\n\n\t\t\tcompute = function() {\n\t\t\t\tvar rel = point2D((o.x) ? o.x - point.x : point.x, (o.y) ? o.y - point.y : point.y),\n\t\t\t\t\ttan = (Math.atan2(rel.y, rel.x)),\n\t\t\t\t\tmiddle;\n\n\t\t\t\talpha = A90 - tan;\n\t\t\t\ta = deg(alpha);\n\t\t\t\tmiddle = point2D((left) ? width - rel.x/2 : point.x + rel.x/2, rel.y/2);\n\n\t\t\t\tvar gamma = alpha - Math.atan2(middle.y, middle.x),\n\t\t\t\t\tdistance =  Math.max(0, Math.sin(gamma) * Math.sqrt(Math.pow(middle.x, 2) + Math.pow(middle.y, 2)));\n\n\t\t\t\t\ttr = point2D(distance * Math.sin(alpha), distance * Math.cos(alpha));\n\n\t\t\t\t\tif (alpha > A90) {\n\t\t\t\t\t\n\t\t\t\t\t\ttr.x = tr.x + Math.abs(tr.y * Math.tan(tan));\n\t\t\t\t\t\ttr.y = 0;\n\n\t\t\t\t\t\tif (Math.round(tr.x*Math.tan(PI-alpha)) < height) {\n\n\t\t\t\t\t\t\tpoint.y = Math.sqrt(Math.pow(height, 2)+2 * middle.x * rel.x);\n\t\t\t\t\t\t\tif (top) point.y =  height - point.y;\n\t\t\t\t\t\t\treturn compute();\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\n\t\t\t\tif (alpha>A90) {\n\t\t\t\t\tvar beta = PI-alpha, dd = h - height/Math.sin(beta);\n\t\t\t\t\tmv = point2D(Math.round(dd*Math.cos(beta)), Math.round(dd*Math.sin(beta)));\n\t\t\t\t\tif (left) mv.x = - mv.x;\n\t\t\t\t\tif (top) mv.y = - mv.y;\n\t\t\t\t}\n\n\t\t\t\tpx = Math.round(tr.y/Math.tan(alpha) + tr.x);\n\t\t\t\n\t\t\t\tvar side = width - px,\n\t\t\t\t\tsideX = side*Math.cos(alpha*2),\n\t\t\t\t\tsideY = side*Math.sin(alpha*2);\n\t\t\t\t\tdf = point2D(Math.round( (left ? side -sideX : px+sideX)), Math.round((top) ? sideY : height - sideY));\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t// GRADIENTS\n\n\t\t\t\t\tgradientSize = side*Math.sin(alpha);\n\t\t\t\t\t\tvar endingPoint = flipMethods._c2.call(that, point.corner),\n\t\t\t\t\t\tfar = Math.sqrt(Math.pow(endingPoint.x-point.x, 2)+Math.pow(endingPoint.y-point.y, 2));\n\n\t\t\t\t\tgradientOpacity = (far<width) ? far/width : 1;\n\n\n\t\t\t\tif (data.opts.frontGradient) {\n\n\t\t\t\t\tgradientStartV = gradientSize>100 ? (gradientSize-100)/gradientSize : 0;\n\t\t\t\t\tgradientEndPointA = point2D(gradientSize*Math.sin(A90-alpha)/height*100, gradientSize*Math.cos(A90-alpha)/width*100);\n\t\t\t\t\n\t\t\t\t\tif (top) gradientEndPointA.y = 100-gradientEndPointA.y;\n\t\t\t\t\tif (left) gradientEndPointA.x = 100-gradientEndPointA.x;\n\t\t\t\t}\n\n\t\t\t\tif (flipMethods._backGradient.call(that)) {\n\n\t\t\t\t\tgradientEndPointB = point2D(gradientSize*Math.sin(alpha)/width*100, gradientSize*Math.cos(alpha)/height*100);\n\t\t\t\t\tif (!left) gradientEndPointB.x = 100-gradientEndPointB.x;\n\t\t\t\t\tif (!top) gradientEndPointB.y = 100-gradientEndPointB.y;\n\t\t\t\t}\n\t\t\t\t//\n\n\t\t\t\ttr.x = Math.round(tr.x);\n\t\t\t\ttr.y = Math.round(tr.y);\n\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\ttransform = function(tr, c, x, a) {\n\t\t\t\n\t\t\t\tvar f = ['0', 'auto'], mvW = (width-h)*x[0]/100, mvH = (height-h)*x[1]/100,\n\t\t\t\t\tv = {left: f[c[0]], top: f[c[1]], right: f[c[2]], bottom: f[c[3]]},\n\t\t\t\t\taliasingFk = (a!=90 && a!=-90) ? (left ? -1 : 1) : 0;\n\n\t\t\t\t\tx = x[0] + '% ' + x[1] + '%';\n\n\t\t\t\tthat.css(v).transform(rotate(a) + translate(tr.x + aliasingFk, tr.y, ac), x);\n\n\t\t\t\tdata.fpage.parent().css(v);\n\t\t\t\tdata.wrapper.transform(translate(-tr.x + mvW-aliasingFk, -tr.y + mvH, ac) + rotate(-a), x);\n\n\t\t\t\tdata.fwrapper.transform(translate(-tr.x + mv.x + mvW, -tr.y + mv.y + mvH, ac) + rotate(-a), x);\n\t\t\t\tdata.fpage.parent().transform(rotate(a) + translate(tr.x + df.x - mv.x, tr.y + df.y - mv.y, ac), x);\n\n\t\t\t\tif (data.opts.frontGradient)\n\t\t\t\t\tgradient(data.ashadow,\n\t\t\t\t\t\t\tpoint2D(left?100:0, top?100:0),\n\t\t\t\t\t\t\tpoint2D(gradientEndPointA.x, gradientEndPointA.y),\n\t\t\t\t\t\t\t[[gradientStartV, 'rgba(0,0,0,0)'],\n\t\t\t\t\t\t\t[((1-gradientStartV)*0.8)+gradientStartV, 'rgba(0,0,0,'+(0.2*gradientOpacity)+')'],\n\t\t\t\t\t\t\t[1, 'rgba(255,255,255,'+(0.2*gradientOpacity)+')']],\n\t\t\t\t\t\t\t3,\n\t\t\t\t\t\t\talpha);\n\t\t\n\t\t\t\tif (flipMethods._backGradient.call(that))\n\t\t\t\t\tgradient(data.bshadow,\n\t\t\t\t\t\t\tpoint2D(left?0:100, top?0:100),\n\t\t\t\t\t\t\tpoint2D(gradientEndPointB.x, gradientEndPointB.y),\n\t\t\t\t\t\t\t[[0.8, 'rgba(0,0,0,0)'],\n\t\t\t\t\t\t\t[1, 'rgba(0,0,0,'+(0.3*gradientOpacity)+')'],\n\t\t\t\t\t\t\t[1, 'rgba(0,0,0,0)']],\n\t\t\t\t\t\t\t3);\n\t\t\t\t\n\t\t\t};\n\n\t\tswitch (point.corner) {\n\t\t\tcase 'tl' :\n\t\t\t\tpoint.x = Math.max(point.x, 1);\n\t\t\t\tcompute();\n\t\t\t\ttransform(tr, [1,0,0,1], [100, 0], a);\n\t\t\t\tdata.fpage.transform(translate(-height, -width, ac) + rotate(90-a*2) , '100% 100%');\n\t\t\t\tfolding.transform(rotate(90) + translate(0, -height, ac), '0% 0%');\n\t\t\tbreak;\n\t\t\tcase 'tr' :\n\t\t\t\tpoint.x = Math.min(point.x, width-1);\n\t\t\t\tcompute();\n\t\t\t\ttransform(point2D(-tr.x, tr.y), [0,0,0,1], [0, 0], -a);\n\t\t\t\tdata.fpage.transform(translate(0, -width, ac) + rotate(-90+a*2) , '0% 100%');\n\t\t\t\tfolding.transform(rotate(270) + translate(-width, 0, ac), '0% 0%');\n\t\t\tbreak;\n\t\t\tcase 'bl' :\n\t\t\t\tpoint.x = Math.max(point.x, 1);\n\t\t\t\tcompute();\n\t\t\t\ttransform(point2D(tr.x, -tr.y), [1,1,0,0], [100, 100], -a);\n\t\t\t\tdata.fpage.transform(translate(-height, 0, ac) + rotate(-90+a*2), '100% 0%');\n\t\t\t\tfolding.transform(rotate(270) + translate(-width, 0, ac), '0% 0%');\n\t\t\tbreak;\n\t\t\tcase 'br' :\n\t\t\t\tpoint.x = Math.min(point.x, width-1);\n\t\t\t\tcompute();\n\t\t\t\ttransform(point2D(-tr.x, -tr.y), [0,1,1,0], [0, 100], a);\n\t\t\t\tdata.fpage.transform(rotate(90-a*2), '0% 0%');\n\t\t\t\tfolding.transform(rotate(90) + translate(0, -height, ac), '0% 0%');\n\n\t\t\tbreak;\n\t\t}\n\n\t\tdata.point = point;\n\t\n\t},\n\n\t_moveFoldingPage: function(bool) {\n\n\t\tvar data = this.data().f,\n\t\t\tfolding = flipMethods._foldingPage.call(this);\n\n\t\tif (folding) {\n\t\t\tif (bool) {\n\t\t\t\tif (!data.fpage.children()[data.ashadow? '1' : '0']) {\n\t\t\t\t\tflipMethods.setData.call(this, {backParent: folding.parent()});\n\t\t\t\t\tdata.fpage.prepend(folding);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (data.backParent)\n\t\t\t\t\tdata.backParent.prepend(folding);\n\n\t\t\t}\n\t\t}\n\n\t},\n\n\t_showFoldedPage: function(c, animate) {\n\n\t\tvar folding = flipMethods._foldingPage.call(this),\n\t\t\tdd = this.data(),\n\t\t\tdata = dd.f;\n\n\t\tif (!data.point || data.point.corner!=c.corner) {\n\t\t\tvar event = $.Event('start');\n\t\t\tthis.trigger(event, [data.opts, c.corner]);\n\n\t\t\tif (event.isDefaultPrevented())\n\t\t\t\treturn false;\n\t\t}\n\n\n\t\tif (folding) {\n\n\t\t\tif (animate) {\n\n\t\t\t\tvar that = this, point = (data.point && data.point.corner==c.corner) ? data.point : flipMethods._c.call(this, c.corner, 1);\n\t\t\t\n\t\t\t\tthis.animatef({from: [point.x, point.y], to:[c.x, c.y], duration: 500, frame: function(v) {\n\t\t\t\t\tc.x = Math.round(v[0]);\n\t\t\t\t\tc.y = Math.round(v[1]);\n\t\t\t\t\tflipMethods._fold.call(that, c);\n\t\t\t\t}});\n\n\t\t\t} else\t{\n\n\t\t\t\tflipMethods._fold.call(this, c);\n\t\t\t\tif (dd.effect && !dd.effect.turning)\n\t\t\t\t\tthis.animatef(false);\n\n\t\t\t}\n\n\t\t\tif (!data.fwrapper.is(':visible')) {\n\t\t\t\tdata.fparent.show().data().flips++;\n\t\t\t\tflipMethods._moveFoldingPage.call(this, true);\n\t\t\t\tdata.fwrapper.show();\n\n\t\t\t\tif (data.bshadow)\n\t\t\t\t\tdata.bshadow.show();\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\thide: function() {\n\n\t\tvar data = this.data().f,\n\t\t\tfolding = flipMethods._foldingPage.call(this);\n\n\t\tif ((--data.fparent.data().flips)===0)\n\t\t\tdata.fparent.hide();\n\n\t\tthis.css({left: 0, top: 0, right: 'auto', bottom: 'auto'}).transform('', '0% 100%');\n\n\t\tdata.wrapper.transform('', '0% 100%');\n\n\t\tdata.fwrapper.hide();\n\n\t\tif (data.bshadow)\n\t\t\tdata.bshadow.hide();\n\n\t\tfolding.transform('', '0% 0%');\n\n\t\treturn this;\n\t},\n\n\thideFoldedPage: function(animate) {\n\n\t\tvar data = this.data().f;\n\n\t\tif (!data.point) return;\n\n\t\tvar that = this,\n\t\t\tp1 = data.point,\n\t\t\thide = function() {\n\t\t\t\tdata.point = null;\n\t\t\t\tthat.flip('hide');\n\t\t\t\tthat.trigger('end', [false]);\n\t\t\t};\n\n\t\tif (animate) {\n\t\t\tvar p4 = flipMethods._c.call(this, p1.corner),\n\t\t\t\ttop = (p1.corner.substr(0,1)=='t'),\n\t\t\t\tdelta = (top) ? Math.min(0, p1.y-p4.y)/2 : Math.max(0, p1.y-p4.y)/2,\n\t\t\t\tp2 = point2D(p1.x, p1.y+delta),\n\t\t\t\tp3 = point2D(p4.x, p4.y-delta);\n\t\t\n\t\t\tthis.animatef({\n\t\t\t\tfrom: 0,\n\t\t\t\tto: 1,\n\t\t\t\tframe: function(v) {\n\t\t\t\t\tvar np = bezier(p1, p2, p3, p4, v);\n\t\t\t\t\tp1.x = np.x;\n\t\t\t\t\tp1.y = np.y;\n\t\t\t\t\tflipMethods._fold.call(that, p1);\n\t\t\t\t},\n\t\t\t\tcomplete: hide,\n\t\t\t\tduration: 800,\n\t\t\t\thiding: true\n\t\t\t\t});\n\n\t\t} else {\n\t\t\tthis.animatef(false);\n\t\t\thide();\n\t\t}\n\t},\n\n\tturnPage: function(corner) {\n\n\t\tvar that = this,\n\t\t\tdata = this.data().f;\n\n\t\tcorner = {corner: (data.corner) ? data.corner.corner : corner || flipMethods._cAllowed.call(this)[0]};\n\n\t\tvar p1 = data.point || flipMethods._c.call(this, corner.corner, (data.opts.turn) ? data.opts.turn.data().opts.elevation : 0),\n\t\t\tp4 = flipMethods._c2.call(this, corner.corner);\n\n\t\t\tthis.trigger('flip').\n\t\t\t\tanimatef({\n\t\t\t\t\tfrom: 0,\n\t\t\t\t\tto: 1,\n\t\t\t\t\tframe: function(v) {\n\t\t\t\t\t\tvar np = bezier(p1, p1, p4, p4, v);\n\t\t\t\t\t\tcorner.x = np.x;\n\t\t\t\t\t\tcorner.y = np.y;\n\t\t\t\t\t\tflipMethods._showFoldedPage.call(that, corner);\n\t\t\t\t\t},\n\t\t\t\t\t\n\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\tthat.trigger('end', [true]);\n\t\t\t\t\t},\n\t\t\t\t\tduration: data.opts.duration,\n\t\t\t\t\tturning: true\n\t\t\t\t});\n\n\t\t\tdata.corner = null;\n\t},\n\n\tmoving: function() {\n\n\t\treturn 'effect' in this.data();\n\t\n\t},\n\n\tisTurning: function() {\n\n\t\treturn this.flip('moving') && this.data().effect.turning;\n\t\n\t},\n\n\t_eventStart: function(e) {\n\n\t\tvar data = this.data().f;\n\n\t\tif (!data.disabled && !this.flip('isTurning')) {\n\t\t\tdata.corner = flipMethods._cornerActivated.call(this, e);\n\t\t\tif (data.corner && flipMethods._foldingPage.call(this, data.corner)) {\n\t\t\t\tflipMethods._moveFoldingPage.call(this, true);\n\t\t\t\tthis.trigger('pressed', [data.point]);\n\t\t\t\treturn false;\n\t\t\t} else\n\t\t\t\tdata.corner = null;\n\t\t}\n\n\t},\n\n\t_eventMove: function(e) {\n\n\t\tvar data = this.data().f;\n\n\t\tif (!data.disabled) {\n\t\t\te = (isTouch) ? e.originalEvent.touches : [e];\n\t\t\n\t\t\tif (data.corner) {\n\n\t\t\t\tvar pos = data.parent.offset();\n\n\t\t\t\tdata.corner.x = e[0].pageX-pos.left;\n\t\t\t\tdata.corner.y = e[0].pageY-pos.top;\n\n\t\t\t\tflipMethods._showFoldedPage.call(this, data.corner);\n\t\t\t\n\t\t\t} else if (!this.data().effect && this.is(':visible')) { // roll over\n\t\t\t\t\n\t\t\t\tvar corner = flipMethods._cornerActivated.call(this, e[0]);\n\t\t\t\tif (corner) {\n\t\t\t\t\tvar origin = flipMethods._c.call(this, corner.corner, data.opts.cornerSize/2);\n\t\t\t\t\tcorner.x = origin.x;\n\t\t\t\t\tcorner.y = origin.y;\n\t\t\t\t\tflipMethods._showFoldedPage.call(this, corner, true);\n\t\t\t\t} else\n\t\t\t\t\tflipMethods.hideFoldedPage.call(this, true);\n\n\t\t\t}\n\t\t}\n\t},\n\n\t_eventEnd: function() {\n\n\t\tvar data = this.data().f;\n\n\t\tif (!data.disabled && data.point) {\n\t\t\tvar event = $.Event('released');\n\t\t\tthis.trigger(event, [data.point]);\n\t\t\tif (!event.isDefaultPrevented())\n\t\t\t\tflipMethods.hideFoldedPage.call(this, true);\n\t\t}\n\n\t\tdata.corner = null;\n\n\t},\n\n\tdisable: function(disable) {\n\n\t\tflipMethods.setData.call(this, {'disabled': disable});\n\t\treturn this;\n\n\t}\n},\n\ncla = function(that, methods, args) {\n\n\tif (!args[0] || typeof(args[0])=='object')\n\t\treturn methods.init.apply(that, args);\n\telse if(methods[args[0]] && args[0].toString().substr(0, 1)!='_')\n\t\treturn methods[args[0]].apply(that, Array.prototype.slice.call(args, 1));\n\telse\n\t\tthrow args[0] + ' is an invalid value';\n};\n\n$.extend($.fn, {\n\n\tflip: function(req, opts) {\n\t\treturn cla(this, flipMethods, arguments);\n\t},\n\n\tturn: function(req) {\n\t\treturn cla(this, turnMethods, arguments);\n\t},\n\n\ttransform: function(transform, origin) {\n\n\t\tvar properties = {};\n\t\t\n\t\tif (origin)\n\t\t\tproperties[vendor+'transform-origin'] = origin;\n\t\t\n\t\tproperties[vendor+'transform'] = transform;\n\t\n\t\treturn this.css(properties);\n\n\t},\n\n\tanimatef: function(point) {\n\n\t\tvar data = this.data();\n\n\t\tif (data.effect)\n\t\t\tclearInterval(data.effect.handle);\n\n\t\tif (point) {\n\n\t\t\tif (!point.to.length) point.to = [point.to];\n\t\t\tif (!point.from.length) point.from = [point.from];\n\t\t\tif (!point.easing) point.easing = function (x, t, b, c, data) { return c * Math.sqrt(1 - (t=t/data-1)*t) + b; };\n\n\t\t\tvar j, diff = [],\n\t\t\t\tlen = point.to.length,\n\t\t\t\tthat = this,\n\t\t\t\tfps = point.fps || 30,\n\t\t\t\ttime = - fps,\n\t\t\t\tf = function() {\n\t\t\t\t\tvar j, v = [];\n\t\t\t\t\ttime = Math.min(point.duration, time + fps);\n\t\n\t\t\t\t\tfor (j = 0; j < len; j++)\n\t\t\t\t\t\tv.push(point.easing(1, time, point.from[j], diff[j], point.duration));\n\n\t\t\t\t\tpoint.frame((len==1) ? v[0] : v);\n\n\t\t\t\t\tif (time==point.duration) {\n\t\t\t\t\t\tclearInterval(data.effect.handle);\n\t\t\t\t\t\tdelete data['effect'];\n\t\t\t\t\t\tthat.data(data);\n\t\t\t\t\t\tif (point.complete)\n\t\t\t\t\t\t\tpoint.complete();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\tfor (j = 0; j < len; j++)\n\t\t\t\tdiff.push(point.to[j] - point.from[j]);\n\n\t\t\tdata.effect = point;\n\t\t\tdata.effect.handle = setInterval(f, fps);\n\t\t\tthis.data(data);\n\t\t\tf();\n\t\t} else {\n\t\t\tdelete data['effect'];\n\t\t}\n\t}\n});\n\n\n$.isTouch = isTouch;\n\n","import $ from 'jquery';\nimport './legacy/turn.js';\n\nimport type {\n  Corner,\n  DisplayMode,\n  Size,\n  TurnEventName,\n  TurnInstance,\n  TurnOptions,\n  TurnWhenHandlers\n} from './types.js';\n\ntype JQueryElement = JQuery<HTMLElement>;\ntype AnyEventHandler = NonNullable<TurnWhenHandlers[TurnEventName]>;\ntype Listener = (event: JQuery.Event, ...args: unknown[]) => void;\n\nconst eventAdapters: Record<TurnEventName, (args: unknown[]) => unknown> = {\n  start: ([opts, corner]) => ({ page: (opts as { page: number }).page, corner: corner as Corner }),\n  turning: ([page, view]) => ({ page: page as number, view: view as number[] }),\n  turn: ([page]) => page as number,\n  turned: ([page, view]) => ({ page: page as number, view: view as number[] }),\n  first: () => undefined,\n  last: () => undefined\n};\n\nconst toJQuery = (target: HTMLElement | JQueryElement | string): JQueryElement => {\n  if (typeof target === 'string') return $(target);\n  if ((target as JQueryElement).jquery) return target as JQueryElement;\n  return $(target as HTMLElement);\n};\n\nconst wrapInstance = (element: JQueryElement): TurnInstance => {\n  const listenerRegistry = new Map<TurnEventName, Map<AnyEventHandler, Listener>>();\n\n  const ensureListenerBucket = (event: TurnEventName): Map<AnyEventHandler, Listener> => {\n    if (!listenerRegistry.has(event)) listenerRegistry.set(event, new Map());\n    return listenerRegistry.get(event)!;\n  };\n\n  const instance: TurnInstance = {\n    addPage(pageElement: HTMLElement, page?: number) {\n      element.turn('addPage', pageElement, page);\n      return instance;\n    },\n    hasPage(page: number) {\n      return Boolean(element.turn('hasPage', page));\n    },\n    display(mode?: DisplayMode): DisplayMode | TurnInstance {\n      if (mode === undefined) {\n        return element.turn('display') as DisplayMode;\n      }\n      element.turn('display', mode);\n      return instance;\n    },\n    animating() {\n      return Boolean(element.turn('animating'));\n    },\n    disable(disabled?: boolean) {\n      element.turn('disable', disabled);\n      return instance;\n    },\n    size(width?: number, height?: number): Size | TurnInstance {\n      if (width === undefined || height === undefined) {\n        const { width: w, height: h } = element.turn('size') as Size;\n        return { width: w, height: h };\n      }\n      element.turn('size', width, height);\n      return instance;\n    },\n    resize() {\n      element.turn('resize');\n    },\n    removePage(page: number) {\n      element.turn('removePage', page);\n      return instance;\n    },\n    pages(total?: number): number | TurnInstance {\n      if (total === undefined) {\n        return element.turn('pages') as number;\n      }\n      element.turn('pages', total);\n      return instance;\n    },\n    range(page?: number) {\n      return element.turn('range', page) as readonly [number, number];\n    },\n    view(page?: number) {\n      return element.turn('view', page) as readonly number[];\n    },\n    page(page?: number): number | TurnInstance {\n      if (page === undefined) {\n        return element.turn('page') as number;\n      }\n      element.turn('page', page);\n      return instance;\n    },\n    next() {\n      element.turn('next');\n      return instance;\n    },\n    previous() {\n      element.turn('previous');\n      return instance;\n    },\n    stop(force?: boolean) {\n      element.turn('stop', force);\n      return instance;\n    },\n    on<TName extends TurnEventName>(event: TName, handler: NonNullable<TurnWhenHandlers[TName]>) {\n      const bucket = ensureListenerBucket(event);\n      const key = handler as AnyEventHandler;\n      if (bucket.has(key)) return instance;\n\n      const callback: Listener = (_event, ...args: unknown[]) => {\n        const adapter = eventAdapters[event];\n        if (!adapter) {\n          (handler as (payload: unknown) => void)(args[0]);\n          return;\n        }\n\n        const payload = adapter(args);\n        if (payload === undefined) {\n          (handler as () => void)();\n        } else {\n          (handler as (payload: unknown) => void)(payload);\n        }\n      };\n\n      bucket.set(key, callback);\n      element.on(event, callback);\n      return instance;\n    },\n    off<TName extends TurnEventName>(event: TName, handler: NonNullable<TurnWhenHandlers[TName]>) {\n      const bucket = listenerRegistry.get(event);\n      const key = handler as AnyEventHandler;\n      const callback = bucket?.get(key);\n      if (callback) {\n        element.off(event, callback);\n        bucket?.delete(key);\n      }\n      return instance;\n    }\n  };\n\n  return instance;\n};\n\n/**\n * Creates a turn.js instance using a DOM element or selector.\n */\nexport const createTurn = (\n  target: HTMLElement | JQueryElement | string,\n  options: Partial<TurnOptions> = {}\n): TurnInstance => {\n  const element = toJQuery(target);\n  element.turn(options);\n  return wrapInstance(element);\n};\n\n/**\n * Gets a typed wrapper around an existing turn.js instance.\n */\nexport const useTurn = (target: HTMLElement | JQueryElement | string): TurnInstance => {\n  const element = toJQuery(target);\n  return wrapInstance(element);\n};\n\n/**\n * Indicates whether the environment supports touch interactions.\n */\nexport const isTouchDevice = Boolean(($ as unknown as { isTouch?: boolean }).isTouch);\n\nexport type { TurnInstance, TurnOptions, TurnWhenHandlers, DisplayMode, Size } from './types.js';\n"]}